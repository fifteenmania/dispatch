<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tmax.hr.dispatch.repository.DispatchMapper">
    <select id="selectEmpDispatchHistory" resultType="com.tmax.hr.dispatch.dto.EmpDispatchHistory">
        SELECT E.EMP_ID,
            E.EMP_NM,
            DP.DISPATCH_ID,
            DP.DISPATCH_TITLE,
            DP.DISPATCH_STDT,
            EDP.DUTY_CD,
            DT.DUTY_NM
        FROM EMP E,
            DISPATCH DP,
            EMP_DISPATCH EDP,
            DUTY DT
        WHERE E.EMP_ID = #{empId}
            AND DP.DISPATCH_ID = EDP.DISPATCH_ID
            AND E.EMP_ID = EDP.EMP_ID
            AND EDP.DUTY_CD = DT.DUTY_CD
    </select>
</mapper>